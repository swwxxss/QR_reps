<!DOCTYPE html>
<html>
<head>
    <title>Hardware Access Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: sans-serif; text-align: center; background: #121212; color: white; }
        #videoElement { width: 90%; border-radius: 10px; border: 2px solid #00ff00; display: none; margin: 20px auto; }
        button { padding: 20px; width: 80%; font-size: 18px; font-weight: bold; background: #00ff00; border: none; border-radius: 50px; cursor: pointer; }
        .status { color: #888; margin-top: 10px; font-size: 12px; }
    </style>
</head>
<body>

    <h2>Система моніторингу</h2>
    <p>Натисніть для перевірки з'єднання з hardware</p>
    
    <button id="startBtn">АКТИВУВАТИ ДОСТУП</button>
    <video id="videoElement" autoplay playsinline></video>
    <p id="errorMsg" style="color: red;"></p>

    <script>
        const startBtn = document.getElementById('startBtn');
        const videoElement = document.getElementById('videoElement');

        startBtn.addEventListener('click', async () => {
            try {
                // Використовуємо камеру, бо трансляція екрана в мобільних браузерах заблокована на рівні ОС
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "user" }, // "user" - фронталка, "environment" - задня
                    audio: false
                });
                
                videoElement.srcObject = stream;
                videoElement.style.display = "block";
                startBtn.style.display = "none";
                
            } catch (err) {
                document.getElementById('errorMsg').innerText = "Помилка доступу: " + err.name;
            }
        });
    </script>
</body>
</html>
